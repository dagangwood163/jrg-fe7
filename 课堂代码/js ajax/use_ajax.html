<!doctype html>
<html>

<body>
		
	<input id="username" type="text" placeholder="username">
	<button id="btn">获取信息</button>

	<dl id="ct">

	</dl>




	<script type="text/javascript">

        document.getElementById("btn").addEventListener('click', function(){
        	var username = document.getElementById('username').value;
        	var url = 'use_ajax.php' + '?username='+username;

            var xmlhttp=new XMLHttpRequest();
            xmlhttp.onreadystatechange=function(){
                if (xmlhttp.readyState==4 && xmlhttp.status==200){
                    dealWith(xmlhttp.responseText);
                }
            }
            xmlhttp.open("GET",url,true);
            xmlhttp.send();
        });

       function dealWith (str){
       		var userInfo = JSON.parse(str);
            var str = '<dt>性别：</dt>';
            str +=    '<dd>'+userInfo.sex+'</dd>';
            str +=    '<dt>年纪：</dt>';
            str +=    '<dd>'+userInfo.age+'</dd>';

            document.getElementById('ct').innerHTML = str;
       }

	</script>
	</body>
</html>